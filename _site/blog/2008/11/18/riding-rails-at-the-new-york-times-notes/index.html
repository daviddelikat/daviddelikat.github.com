<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>litany against fear &curren; by nick quaranto &curren; Riding Rails at the New York Times Notes</title>
   <meta name="author" content="Nick Quaranto" />
   <link href="http://feeds2.feedburner.com/LitanyAgainstFear" rel="alternate" title="RSS" type="application/rss+xml" />
   <link rel="stylesheet" href="/css/reset.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/960.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/text.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/pygment_trac.css" type="text/css" media="screen, projection" />
</head>
<body>
  <div class="container_12">
    <div id="links" class="grid_2">
      <a href="/about.html">about</a>
      <a href="/projects.html">projects</a>
      <a href="http://visualcv.com/nquaranto/">resume</a>
      <a href="/talks.html">talks</a>
      <a href="/written.html">written</a>
      <br />
      <a href="mailto:nick@quaran.to">email</a>
      <a href="http://feeds2.feedburner.com/LitanyAgainstFear">rss</a>
      <a href="http://twitter.com/qrush">twitter</a>
      <a href="http://qrush.tumblr.com">tumblr</a>
      <a href="http://www.workingwithrails.com/person/14728-nick-quaranto">wwr</a>
    </div>
    <div id="main" class="grid_8">
      <h1><a href="/">litany against fear</a></h1>
      <div id="subtitle">coding with spice &curren; by nick quaranto</div>
      <hr />
      <div id="post">
  <h2><a href="/blog/2008/11/18/riding-rails-at-the-new-york-times-notes">
    Riding Rails at the New York Times Notes
  </a></h2>
  <div id="date">published 18 Nov 2008</div>
  <p>Part of my series of notes from the <a href="http://www.voicesthatmatter.com/ruby2008/">Professional Ruby Conference</a>. <a href="http://litanyagainstfear.com/blog/2008/11/18/professional-ruby-conference-notes/">See them all here.</a></p>
<p>This talk is from Ben Koski from the NYT&#8217;s Interactive News Technology team. The team is a recent addition to the company&#8230;6 backend, 3 frontend people. They&#8217;re a part of the newsroom&#8230;directly working with reporters! Journalistic instead of business.</p>
<p>Big difference between journalism on the web vs. of the web. On: copy paste from the newspaper. Of: connected multimedia, assets, and more.</p>
<p>Plenty of Rails apps living at the Times. Big ones like the election tracker to smaller ones like a Guantanamo detainee library. Each application should tell a story&#8230;not just a data dump on the web. Showing off the other various apps that they&#8217;ve done. Dynamic backends, internal research apps, and even more static include generators.</p>
<p>Going over the election results from the AP feed and the architecture they used to tackle Election night this year. Feed had live results, county-by-county. They had to figure out how to split up 153 different files every 3-5 minutes that were comma-delineated. They used this for the primaries&#8230;but it wasn&#8217;t going to cut it for the general election.</p>
<p>AP schema feed just wasn&#8217;t rails friendly. (Duh.) <span class="caps">FTP</span> is slow, long updates, long rollbacks because of massive amounts of data. Interesting way how they handled updating the production tables from the AP feed by adding in staging tables to &#8216;buffer&#8217; changes. Some awesome stats about how their architecture handled the lode.</p>
<p>Ben is now going over some what they used to speed up the app. Second highest day of traffic ever in Times history. How did they scale Rails? <strong>They didn&#8217;t!</strong> Well, wait a minute. They used Rails to generate the <span class="caps">HTML</span> and uploaded that up to /www. Works well for high traffic since there&#8217;s no need for dynamic content/interaction on the site.</p>
<p>More scaling static content techniques: Used memcache and load-balancer caching. Pulled <span class="caps">AJAX</span> requests from a <span class="caps">CDN</span>, reduced how big the page was, and grouped flash content into one file.</p>
<p>Strengths:</p>
<ul>
	<li>Rapid start, raw data to app in hours</li>
	<li>Tweak-friendly. Can easily change stuff because of Capistrano.</li>
	<li>Ability to drop down to <span class="caps">SQL</span> in AR is essential.</li>
	<li>Web code works well on command line. (In other words, <span class="caps">PHP</span> can&#8217;t do that.)</li>
</ul>
<p>Weaknesses:</p>
<ul>
	<li>NYTimes is mostly a Sun shop. They use EC2 for most stuff.</li>
	<li>Deployment. What? I missed this.</li>
	<li>Admin interface isn&#8217;t there out of the box like Django.</li>
</ul>
  <hr />
  <div id="disqus">
    <div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/litanyagainstfear/embed.js"></script><noscript><a href="http://litanyagainstfear.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</div>


      <hr />
      <div id="footer">
        <a href="http://github.com/qrush/litanyagainstfear">managed by github</a>
        &curren;
        <a href="http://github.com/mojombo/jekyll">generated by jekyll</a>
        &curren;
        <a href="http://creativecommons.org/licenses/by-sa/3.0/us/">licensed by creative commons</a>
        &curren;
        <a href="http://slicehost.com">served by slicehost</a>
      </div>
    </div>
    <div id="categories" class="grid_2">
      <a href="/code.html">code (2)</a>
      <a href="/gaming.html">gaming (3)</a>
      <a href="/git.html">git (9)</a>
      <a href="/internet.html">internet (5)</a>
      <a href="/prorubyconf.html">prorubyconf (25)</a>
      <a href="/railsconf.html">railsconf (17)</a>
      <a href="/ruby.html">ruby (10)</a>
      <a href="/windows.html">windows (3)</a>
    </div>
  </div>
  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-2896263-1");
  pageTracker._trackPageview();
  } catch(err) {}</script>
</body>
</html>
